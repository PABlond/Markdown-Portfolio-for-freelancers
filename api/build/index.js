"use strict";

require("core-js/modules/es6.array.copy-within");

require("core-js/modules/es6.array.every");

require("core-js/modules/es6.array.fill");

require("core-js/modules/es6.array.filter");

require("core-js/modules/es6.array.find");

require("core-js/modules/es6.array.find-index");

require("core-js/modules/es7.array.flat-map");

require("core-js/modules/es6.array.for-each");

require("core-js/modules/es6.array.from");

require("core-js/modules/es7.array.includes");

require("core-js/modules/es6.array.index-of");

require("core-js/modules/es6.array.is-array");

require("core-js/modules/es6.array.iterator");

require("core-js/modules/es6.array.last-index-of");

require("core-js/modules/es6.array.map");

require("core-js/modules/es6.array.of");

require("core-js/modules/es6.array.reduce");

require("core-js/modules/es6.array.reduce-right");

require("core-js/modules/es6.array.some");

require("core-js/modules/es6.array.sort");

require("core-js/modules/es6.array.species");

require("core-js/modules/es6.date.now");

require("core-js/modules/es6.date.to-iso-string");

require("core-js/modules/es6.date.to-json");

require("core-js/modules/es6.date.to-primitive");

require("core-js/modules/es6.date.to-string");

require("core-js/modules/es6.function.bind");

require("core-js/modules/es6.function.has-instance");

require("core-js/modules/es6.function.name");

require("core-js/modules/es6.map");

require("core-js/modules/es6.math.acosh");

require("core-js/modules/es6.math.asinh");

require("core-js/modules/es6.math.atanh");

require("core-js/modules/es6.math.cbrt");

require("core-js/modules/es6.math.clz32");

require("core-js/modules/es6.math.cosh");

require("core-js/modules/es6.math.expm1");

require("core-js/modules/es6.math.fround");

require("core-js/modules/es6.math.hypot");

require("core-js/modules/es6.math.imul");

require("core-js/modules/es6.math.log1p");

require("core-js/modules/es6.math.log10");

require("core-js/modules/es6.math.log2");

require("core-js/modules/es6.math.sign");

require("core-js/modules/es6.math.sinh");

require("core-js/modules/es6.math.tanh");

require("core-js/modules/es6.math.trunc");

require("core-js/modules/es6.number.constructor");

require("core-js/modules/es6.number.epsilon");

require("core-js/modules/es6.number.is-finite");

require("core-js/modules/es6.number.is-integer");

require("core-js/modules/es6.number.is-nan");

require("core-js/modules/es6.number.is-safe-integer");

require("core-js/modules/es6.number.max-safe-integer");

require("core-js/modules/es6.number.min-safe-integer");

require("core-js/modules/es6.number.parse-float");

require("core-js/modules/es6.number.parse-int");

require("core-js/modules/es6.object.assign");

require("core-js/modules/es6.object.create");

require("core-js/modules/es7.object.define-getter");

require("core-js/modules/es7.object.define-setter");

require("core-js/modules/es6.object.define-property");

require("core-js/modules/es6.object.define-properties");

require("core-js/modules/es7.object.entries");

require("core-js/modules/es6.object.freeze");

require("core-js/modules/es6.object.get-own-property-descriptor");

require("core-js/modules/es7.object.get-own-property-descriptors");

require("core-js/modules/es6.object.get-own-property-names");

require("core-js/modules/es6.object.get-prototype-of");

require("core-js/modules/es7.object.lookup-getter");

require("core-js/modules/es7.object.lookup-setter");

require("core-js/modules/es6.object.prevent-extensions");

require("core-js/modules/es6.object.to-string");

require("core-js/modules/es6.object.is");

require("core-js/modules/es6.object.is-frozen");

require("core-js/modules/es6.object.is-sealed");

require("core-js/modules/es6.object.is-extensible");

require("core-js/modules/es6.object.keys");

require("core-js/modules/es6.object.seal");

require("core-js/modules/es6.object.set-prototype-of");

require("core-js/modules/es7.object.values");

require("core-js/modules/es6.promise");

require("core-js/modules/es7.promise.finally");

require("core-js/modules/es6.reflect.apply");

require("core-js/modules/es6.reflect.construct");

require("core-js/modules/es6.reflect.define-property");

require("core-js/modules/es6.reflect.delete-property");

require("core-js/modules/es6.reflect.get");

require("core-js/modules/es6.reflect.get-own-property-descriptor");

require("core-js/modules/es6.reflect.get-prototype-of");

require("core-js/modules/es6.reflect.has");

require("core-js/modules/es6.reflect.is-extensible");

require("core-js/modules/es6.reflect.own-keys");

require("core-js/modules/es6.reflect.prevent-extensions");

require("core-js/modules/es6.reflect.set");

require("core-js/modules/es6.reflect.set-prototype-of");

require("core-js/modules/es6.regexp.constructor");

require("core-js/modules/es6.regexp.flags");

require("core-js/modules/es6.regexp.match");

require("core-js/modules/es6.regexp.replace");

require("core-js/modules/es6.regexp.split");

require("core-js/modules/es6.regexp.search");

require("core-js/modules/es6.regexp.to-string");

require("core-js/modules/es6.set");

require("core-js/modules/es6.symbol");

require("core-js/modules/es7.symbol.async-iterator");

require("core-js/modules/es6.string.anchor");

require("core-js/modules/es6.string.big");

require("core-js/modules/es6.string.blink");

require("core-js/modules/es6.string.bold");

require("core-js/modules/es6.string.code-point-at");

require("core-js/modules/es6.string.ends-with");

require("core-js/modules/es6.string.fixed");

require("core-js/modules/es6.string.fontcolor");

require("core-js/modules/es6.string.fontsize");

require("core-js/modules/es6.string.from-code-point");

require("core-js/modules/es6.string.includes");

require("core-js/modules/es6.string.italics");

require("core-js/modules/es6.string.iterator");

require("core-js/modules/es6.string.link");

require("core-js/modules/es7.string.pad-start");

require("core-js/modules/es7.string.pad-end");

require("core-js/modules/es6.string.raw");

require("core-js/modules/es6.string.repeat");

require("core-js/modules/es6.string.small");

require("core-js/modules/es6.string.starts-with");

require("core-js/modules/es6.string.strike");

require("core-js/modules/es6.string.sub");

require("core-js/modules/es6.string.sup");

require("core-js/modules/es6.string.trim");

require("core-js/modules/es7.string.trim-left");

require("core-js/modules/es7.string.trim-right");

require("core-js/modules/es6.typed.array-buffer");

require("core-js/modules/es6.typed.data-view");

require("core-js/modules/es6.typed.int8-array");

require("core-js/modules/es6.typed.uint8-array");

require("core-js/modules/es6.typed.uint8-clamped-array");

require("core-js/modules/es6.typed.int16-array");

require("core-js/modules/es6.typed.uint16-array");

require("core-js/modules/es6.typed.int32-array");

require("core-js/modules/es6.typed.uint32-array");

require("core-js/modules/es6.typed.float32-array");

require("core-js/modules/es6.typed.float64-array");

require("core-js/modules/es6.weak-map");

require("core-js/modules/es6.weak-set");

require("core-js/modules/web.timers");

require("core-js/modules/web.immediate");

require("core-js/modules/web.dom.iterable");

require("regenerator-runtime/runtime");

var _express = _interopRequireDefault(require("express"));

require("dotenv/config");

var _graphQLSchema = _interopRequireDefault(require("./schema/graphQLSchema"));

var _expressGraphql = _interopRequireDefault(require("express-graphql"));

var _mongoose = _interopRequireDefault(require("mongoose"));

var _cors = _interopRequireDefault(require("cors"));

var _about = _interopRequireDefault(require("./models/about"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

// (async () => {
//   await new About({
//     img: {
//       href:
//         "https://res.cloudinary.com/pablond/image/upload/q_auto:eco/v1529395706/20180619_095724.jpg",
//       alt: "Pierre-Alexis_Blond"
//     },
//     description: [
//       "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ultricies mi eget mauris pharetra et.",
//       "Venenatis urna cursus eget nunc scelerisque viverra mauris in aliquam. Dignissim cras tincidunt lobortis feugiat. Est velit egestas dui id ornare. Donec ac odio tempor orci dapibus."
//     ],
//     skills: {
//       front: {
//         nodes: [
//           { id: "Front end", group: 7 },
//           // {id: "Data", group: 3},
//           { id: "HTML5", group: 2 },
//           { id: "Gatsby", group: 1 },
//           { id: "CSS3", group: 3 },
//           { id: "SASS", group: 3 },
//           { id: "React Native", group: 6 },
//           { id: "React", group: 6 },
//           { id: "Redux", group: 4 },
//           { id: "Expo", group: 1 },
//           { id: "Framework", group: 6 }
//         ],
//         links: [
//           { source: "Front end", target: "HTML5", value: 3 },
//           { source: "Front end", target: "CSS3", value: 3 },
//           { source: "Front end", target: "Framework", value: 3 },
//           { source: "Framework", target: "React", value: 3 },
//           { source: "Framework", target: "React Native", value: 3 },
//           { source: "React", target: "Redux", value: 1 },
//           { source: "Expo", target: "React Native", value: 1 },
//           { source: "React Native", target: "Redux", value: 1 },
//           { source: "React", target: "Gatsby", value: 1 },
//           { source: "CSS3", target: "SASS", value: 1 }
//         ]
//       },
//       back: {
//         nodes: [
//           { id: "Back end", group: 7 },
//           { id: "Javascript", group: 4 },
//           { id: "Express", group: 4 },
//           { id: "Hapi.Js", group: 4 },
//           { id: "Python", group: 5 },
//           { id: "Django", group: 5 },
//           { id: "Flask", group: 5 },
//           { id: "Databases", group: 2 },
//           { id: "Mysql", group: 2 },
//           { id: "MariaDB", group: 2 },
//           { id: "MongoDB", group: 2 }
//         ],
//         links: [
//           { source: "Back end", target: "Javascript", value: 1 },
//           { source: "Back end", target: "Python", value: 1 },
//           { source: "Back end", target: "Databases", value: 1 },
//           { source: "Javascript", target: "Express", value: 1 },
//           { source: "Javascript", target: "Hapi.Js", value: 1 },
//           { source: "Python", target: "Django", value: 1 },
//           { source: "Python", target: "Flask", value: 1 },
//           { source: "Databases", target: "Mysql", value: 1 },
//           { source: "Databases", target: "MariaDB", value: 1 },
//           { source: "Databases", target: "MongoDB", value: 1 }
//         ]
//       },
//       data: {
//         nodes: [
//           { id: "Data", group: 7 },
//           // {id: "Data", group: 3},
//           { id: "Visualization", group: 1 },
//           { id: "Matplotlib", group: 1 },
//           { id: "Pandas", group: 1 },
//           { id: "Seaborn", group: 1 },
//           { id: "Analysis", group: 2 },
//           { id: "Keras", group: 2 },
//           { id: "Scikit-learn", group: 2 },
//           { id: "Other", group: 3 },
//           { id: "Tensorflow", group: 3 }
//         ],
//         links: [
//           { source: "Data", target: "Visualization", value: 3 },
//           { source: "Data", target: "Analysis", value: 3 },
//           { source: "Data", target: "Other", value: 3 },
//           { source: "Visualization", target: "Matplotlib", value: 3 },
//           { source: "Visualization", target: "Pandas", value: 3 },
//           { source: "Visualization", target: "Seaborn", value: 3 },
//           { source: "Analysis", target: "Keras", value: 1 },
//           { source: "Analysis", target: "Scikit-learn", value: 1 },
//           { source: "Other", target: "Tensorflow", value: 1 }
//         ]
//       }
//     },
//     certifications: [
//       {
//         original:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=zAhX%2FEhCFGcWw0lYXpf3oz%2FwhZU%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi_e5GOebf1pUAReS4AjQBkLbm1STKyEo7tKo2-e90gjJbmJsb5agYUbhl4j3lK6w",
//         thumbnail:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=zAhX%2FEhCFGcWw0lYXpf3oz%2FwhZU%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi_e5GOebf1pUAReS4AjQBkLbm1STKyEo7tKo2-e90gjJbmJsb5agYUbhl4j3lK6w"
//       },
//       {
//         original:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=HGaGnpxaYz89ZufTMDm248KqyrM%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi7es7ZfLOjoEAXe31UjQA3K7q1SDGzQY66f9u7f9wl3ZKwcpT5agYUbhl4j3lK6w",
//         thumbnail:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=HGaGnpxaYz89ZufTMDm248KqyrM%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi7es7ZfLOjoEAXe31UjQA3K7q1SDGzQY66f9u7f9wl3ZKwcpT5agYUbhl4j3lK6w"
//       },
//       {
//         original:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=FVmYNIvhToj5Tfy8g1RfA7eHGOw%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWjofZPcf7b1rUAUeipSjQBkLO-1STjpRo7vKo_nddR23cbtcJD5agYUbhl4j3lK6w",
//         thumbnail:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=FVmYNIvhToj5Tfy8g1RfA7eHGOw%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWjofZPcf7b1rUAUeipSjQBkLO-1STjpRo7vKo_nddR23cbtcJD5agYUbhl4j3lK6w"
//       },
//       {
//         original:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=bLzlB5rf3b%2B%2Bl2QhsnCOv641Tig%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi6esTYcLKgoEAQKi0DjQBkLb21STfoQI7qK4nrdIlziMTjJpj5agYUbhl4j3lK6w",
//         thumbnail:
//           "https://media.licdn.com/media-proxy/ext?w=800&h=800&f=n&hash=bLzlB5rf3b%2B%2Bl2QhsnCOv641Tig%3D&ora=1%2CaFBCTXdkRmpGL2lvQUFBPQ%2CxAVta5g-0R6jnhodx1Ey9KGTqAGj6E5DQJHUA3L0CHH05IbfPWi6esTYcLKgoEAQKi0DjQBkLb21STfoQI7qK4nrdIlziMTjJpj5agYUbhl4j3lK6w"
//       }
//     ]
//   }).save()
// })()
var app = (0, _express["default"])();
var _process$env = process.env,
    PORT = _process$env.PORT,
    DB_USER = _process$env.DB_USER,
    DB_PASSWORD = _process$env.DB_PASSWORD;
app.use((0, _cors["default"])());

_mongoose["default"].connect("mongodb://".concat(DB_USER, ":").concat(DB_PASSWORD, "@ds119090.mlab.com:19090/pablond-portfolio"), {
  useNewUrlParser: true
}, function () {
  return console.log("Database is connected");
});

app.use("/graphql", (0, _expressGraphql["default"])({
  schema: _graphQLSchema["default"],
  customFormatErrorFn: function customFormatErrorFn(err) {
    return {
      message: err.locations,
      status: parseInt(err.message)
    };
  },
  graphiql: true
}));
app.listen(PORT, function () {
  console.log("Server is listening on port ".concat(PORT));
});